
{
    "Message_Types": [
        {
            "Type": "Request",
            "Operation": [
                "Up",
                "Down",
                "Left",
                "Right"        
            ],
            "Client_ID": 2,
            "N_Request": 5 
        },

        {
            "Type": "Prepare",
            "N_View": 0,
            "Message":  {
                "Operation": [
                    "Up",
                    "Down",
                    "Left",
                    "Right"        
                ],
                "Client_ID": 2,
                "N_Request": 5 
            },
            "N_Operation": 16,
            "N_Commit": 15

        },

        {
            "Type": "PrepareOK",
            "N_View": 0,
            "N_Operation": 16,
            "N_Backup": 1
        },

        {
            "Type": "Reply",
            "N_View": 0,
            "N_Request": 5,
            "Result": [
                "Up",
                "Down",
                "Left",
                "Right"        
            ]
        },

        {
            "Type": "Join"
        },

        {
            "Type": "JoinOK",
            "Primary_IP": "192.0.2.0"
        },
        
        {
            "Type": "Replica_List",
            "Replica_List": [
                "192.0.2.0",
                "192.0.2.0",
                "192.0.2.0",
                "192.0.2.0"
            ]
        }
            
        
    ]

}


////////////////////////////////////////
// JSON FILE FORMAT FOR RECOVERY MODE //
////////////////////////////////////////
// "Type": "Recovery_Message",
// "N_Replica": "i",
// "Nonce": "x"

////////////////////////////////////////////
// JSON FILE FORMAT FOR RECOVERY RESPONSE //
////////////////////////////////////////////
// "Type": "Recovery_Response",
// "N_View": 0,
// "Crashed_Replica": "i",
// "Log": [ /* Insert Log here */]
// "N_Operation": 15,
// "N_Commit": 16,
// "N_Replica": "j" 



///////////////////////////////////////////
// ROUTING LAYER JSON INFORMATION:
///////////////////////////////////////////

/////// CLIENT FUNCTIONS //////////////////

// 1) route: "/connectPlayer"
    // connects clients to the game
    // no json message needed

// 2) route: "/forwardToMainServer"
    // forwards any json message from client to the main server


////// SERVER FUNCTIONS //////////////////

// 1) route: "/updateMainServer"
    // server tells routing layer who the new main server is after an election
    // json request: 
        {
            "ip": "192.0.2.0"
        }

// 2) route: "/updatePlayersGameState"
    // server sends routing layer a single json message with new game state. Routing layer then forwards this message to all players

// 3) route: "/join"
    //  Server requests routing layaer to join network. Routing layer replies with the IP of the main server
    //  note: first server to /join is assigned to be the main server in the routing layer
    // json request: 
        {
            "ip": "192.0.2.0"
        }
    // json response:
        {
            "Type": "JoinOK",
            "Primary_IP": "192.0.2.1"
        }
        


    
    
    
     
    

